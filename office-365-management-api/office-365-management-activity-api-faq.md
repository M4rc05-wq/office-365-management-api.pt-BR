---
ms.TocTitle: Office 365 Management Activity API frequently asked questions
title: Perguntas frequentes sobre a API de Atividade de Gerenciamento do Office 365
description: Perguntas frequentes sobre como usar a API de Atividade de Gerenciamento do Office 365
ms.ContentId: ''
ms.topic: reference (API)
ms.date: ''
localization_priority: Priority
ms.openlocfilehash: 19603e9f22d65c51ee01c9b410c61cb46ca97434
ms.sourcegitcommit: 36d0167805d24bbb3e2cf1a02d0f011270cc31cb
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/22/2020
ms.locfileid: "41263230"
---
# <a name="office-365-management-activity-api-frequently-asked-questions"></a><span data-ttu-id="9b9e3-103">Perguntas frequentes sobre a API de Atividade de Gerenciamento do Office 365</span><span class="sxs-lookup"><span data-stu-id="9b9e3-103">Office 365 Management Activity API frequently asked questions</span></span>

#### <a name="what-events-are-audited-for-a-specific-office-365-service"></a><span data-ttu-id="9b9e3-104">Que eventos são auditados para um serviço específico do Office 365?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-104">What events are audited for a specific Office 365 service?</span></span>

<span data-ttu-id="9b9e3-105">A documentação do esquema de API de Atividade de Gerenciamento do Office 365 possui uma lista abrangente de eventos.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-105">Office 365 Management Activity API schema documentation has a comprehensive list of events.</span></span> <span data-ttu-id="9b9e3-106">Para ver mais detalhes, confira o [esquema de API de Atividade de Gerenciamento do Office 365](office-365-management-activity-api-schema.md).</span><span class="sxs-lookup"><span data-stu-id="9b9e3-106">For details, see [Office 365 Management Activity API schema](office-365-management-activity-api-schema.md).</span></span> <span data-ttu-id="9b9e3-107">Confira também a seção "atividades auditadas" em [Pesquisar o log de auditoria no Centro de Conformidade e Segurança](https://docs.microsoft.com/office365/securitycompliance/search-the-audit-log-in-security-and-compliance#audited-activities) para obter uma lista de eventos para a maioria dos serviços do Office 365 que são auditados.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-107">Also see the "Audited activities" section in [Search the audit log in the Security & Compliance Center](https://docs.microsoft.com/office365/securitycompliance/search-the-audit-log-in-security-and-compliance#audited-activities) for a list of events for most of the Office 365 services that are audited.</span></span>

#### <a name="how-do-i-onboard-to-the-management-activity-api"></a><span data-ttu-id="9b9e3-108">Como faço para integrar a API de Atividade de Gerenciamento?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-108">How do I onboard to the Management Activity API?</span></span>

<span data-ttu-id="9b9e3-109">Para começar a usar a API de Atividade de Gerenciamento do Office 365, confira [ Introdução às APIs de Gerenciamento do Office 365 ](get-started-with-office-365-management-apis.md).</span><span class="sxs-lookup"><span data-stu-id="9b9e3-109">To get started with the Office 365 Management Activity API, see [Get started with Office 365 Management APIs](get-started-with-office-365-management-apis.md).</span></span>
 
#### <a name="what-is-the-throttling-limit-for-the--management-activity-api"></a><span data-ttu-id="9b9e3-110">O que é a restrição de limitação para a API de Atividade de Gerenciamento?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-110">What is the throttling limit for the  Management Activity API?</span></span>

<span data-ttu-id="9b9e3-111">A restrição de limitação atual é de 60 mil solicitações/minuto por ID do Fornecedor.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-111">The current throttling limit is 60K requests/minute per Publisher ID.</span></span> 

#### <a name="we-want-to-programmatically-capture-all-events-in-all-workloads-what-is-the-most-reliable-way-to-do-this"></a><span data-ttu-id="9b9e3-112">Queremos capturar programaticamente todos os eventos em todas as cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-112">We want to programmatically capture all events in all workloads.</span></span> <span data-ttu-id="9b9e3-113">Qual é a maneira mais confiável de fazer isso?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-113">What is the most reliable way to do this?</span></span>

<span data-ttu-id="9b9e3-114">Você pode fazer isso usando a API de Atividade de Gerenciamento do Office 365.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-114">You can do this by using the Office 365 Management Activity API.</span></span> <span data-ttu-id="9b9e3-115">Também recomendamos que você use o **modelo de pull** devido a problemas de uso de webhooks.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-115">Also, we recommend that you use the **pull model** due to issues with using webhooks.</span></span> <span data-ttu-id="9b9e3-116">Para saber mais, confira a seção "Como usar webhooks" em [ Solucionando problemas da API de Atividade de Gerenciamento do Office 365](troubleshooting-the-office-365-management-activity-api.md#using-webhooks).</span><span class="sxs-lookup"><span data-stu-id="9b9e3-116">For more information, see the "Using webhooks" section in [Troubleshooting the Office 365 Management Activity API](troubleshooting-the-office-365-management-activity-api.md#using-webhooks).</span></span>

#### <a name="is-it-true-that-mailbox-auditing-in-exchange-online-can-only-be-enabled-by-using-powershell"></a><span data-ttu-id="9b9e3-117">É verdade que a auditoria de caixa de correio do Exchange Online só pode ser habilitada usando o PowerShell?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-117">Is it true that mailbox auditing in Exchange Online can only be enabled by using PowerShell?</span></span>

<span data-ttu-id="9b9e3-118">Esse costumava ser o caso, mas desde janeiro de 2019, a auditoria de caixa de correio agora está ativada por padrão para todas as organizações do Office 365.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-118">That used to be the case but since January 2019, mailbox auditing is now turned on by default for all Office 365 organizations.</span></span> <span data-ttu-id="9b9e3-119">Para saber mais, consulte [Gerenciar a auditoria da caixa de correio](https://docs.microsoft.com/office365/securitycompliance/enable-mailbox-auditing).</span><span class="sxs-lookup"><span data-stu-id="9b9e3-119">For more information, see [Manage mailbox auditing](https://docs.microsoft.com/office365/securitycompliance/enable-mailbox-auditing).</span></span>

#### <a name="are-there-any-differences-in-the-records-that-are-fetched-by-the-management-activity-api-versus-the-records-that-are-returned-by-using-the-audit-log-search-tool-in-the-office-365-security--compliance-center"></a><span data-ttu-id="9b9e3-120">Há alguma diferença entre os registros buscados pela API de Atividade de Gerenciamento e os registros retornados usando a ferramenta de pesquisa de log de auditoria no Centro de Conformidade e Segurança do Office 365?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-120">Are there any differences in the records that are fetched by the Management Activity API versus the records that are returned by using the audit log search tool in the Office 365 Security & Compliance Center?</span></span>

<span data-ttu-id="9b9e3-121">Os dados retornados pelos dois métodos são os mesmos.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-121">The data that is returned by both methods is the same.</span></span> <span data-ttu-id="9b9e3-122">Não ocorre a filtragem.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-122">There is no filtering that happens.</span></span> <span data-ttu-id="9b9e3-123">A única diferença é que, com a API, você obtém dados dos últimos sete dias de cada vez.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-123">The only difference is that with the API, you can get data for the last 7 days at a time.</span></span> <span data-ttu-id="9b9e3-124">Ao pesquisar o log de auditoria no Centro de Conformidade e Segurança (ou usando o cmdlet [Search-UnifiedAuditLog](https://docs.microsoft.com/powershell/module/exchange/policy-and-compliance-audit/search-unifiedauditlog) correspondente no Exchange Online), é possível obter dados dos últimos 90 dias.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-124">When searching the audit log in the Security & Compliance Center (or by using the corresponding [Search-UnifiedAuditLog](https://docs.microsoft.com/powershell/module/exchange/policy-and-compliance-audit/search-unifiedauditlog) cmdlet in Exchange Online), you can get data for the last 90 days.</span></span> 

#### <a name="what-happens-if-i-disable-auditing-for-my-office-365-organization-will-i-still-get-events-via-the-management-activity-api"></a><span data-ttu-id="9b9e3-125">O que acontece se eu desabilitar a auditoria da minha organização no Office 365?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-125">What happens if I disable auditing for my Office 365 organization?</span></span> <span data-ttu-id="9b9e3-126">Ainda receberei eventos por meio da API da Atividade de Gestão?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-126">Will I still get events via the Management Activity API?</span></span>

<span data-ttu-id="9b9e3-127">Não.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-127">No.</span></span> <span data-ttu-id="9b9e3-128">A auditoria unificada do Office 365 deve estar habilitada na sua organização para incluir os registros por meio da API de Atividade de Gestão.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-128">Office 365 unified auditing must be enabled for your organization to pull records via the Management Activity API.</span></span> <span data-ttu-id="9b9e3-129">Para obter instruções, confira [Ativar ou desativar a pesquisa de log de auditoria do Office 365](https://docs.microsoft.com/office365/securitycompliance/turn-audit-log-search-on-or-off).</span><span class="sxs-lookup"><span data-stu-id="9b9e3-129">For instructions, see [Turn Office 365 audit log search on or off](https://docs.microsoft.com/office365/securitycompliance/turn-audit-log-search-on-or-off).</span></span>

#### <a name="arent-webhook-notifications-more-immediate-after-all-arent-they-event-driven"></a><span data-ttu-id="9b9e3-130">As notificações do webhook não são mais imediatas?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-130">Aren’t webhook notifications more immediate?</span></span> <span data-ttu-id="9b9e3-131">Afinal, elas não são controlados por evento?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-131">After all, aren’t they event-driven?</span></span>

<span data-ttu-id="9b9e3-132">Não.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-132">No.</span></span> <span data-ttu-id="9b9e3-133">As notificações do webhook não são controladas por evento, no sentido de que o evento dispara a notificação.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-133">Webhook notifications aren't event-driven in the sense that the event triggers the notification.</span></span> <span data-ttu-id="9b9e3-134">O blob de conteúdo ainda deve ser criado, e é a criação desse conteúdo que aciona a entrega da notificação.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-134">The content blob must still be created, and the creation of the content blob is what triggers the notification delivery.</span></span> <span data-ttu-id="9b9e3-135">Recentemente, o tempo de espera de entrega de notificações ao usar um webhook tem sido maior se comparado à consulta da API diretamente com a operação */content*.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-135">Recently, there have been longer wait times for notifications when using a webhook compared to querying the API directly with the */content* operation.</span></span> <span data-ttu-id="9b9e3-136">Portanto, a API de Atividade de Gerenciamento não deve ser considerada como um sistema de alerta de segurança em tempo real.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-136">Therefore, the Management Activity API shouldn’t be thought of as a real-time security alert system.</span></span> <span data-ttu-id="9b9e3-137">A Microsoft tem outros produtos para isso.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-137">Microsoft has other products for that.</span></span> <span data-ttu-id="9b9e3-138">No que diz respeito à segurança, as notificações de eventos da API de Atividade de Gerenciamento podem ser usadas de maneira mais apropriada para determinar padrões de uso por longos períodos.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-138">As far as security is concerned, Management Activity API event notifications can more appropriately be used to determine usage patterns over extended periods of time.</span></span>

#### <a name="when-pulling-the-data-from-the-management-activity-api-there-is-sometimes-a-delay-of-more-than-3-to-5-days-why-is-this"></a><span data-ttu-id="9b9e3-139">Ao extrair os dados da API de Atividade de Gerenciamento, pode ocorrer um atraso de mais de três a cinco dias.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-139">When pulling the data from the Management Activity API, there is sometimes a delay of more than 3 to 5 days.</span></span> <span data-ttu-id="9b9e3-140">Por que isso ocorre?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-140">Why is this?</span></span>

<span data-ttu-id="9b9e3-141">Às vezes, há situações de interrupção temporária ou outros problemas no serviço do Office 365.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-141">At times, there are instances of a temporary outage or other issues in the Office 365 service.</span></span> <span data-ttu-id="9b9e3-142">Nesses casos, alguns registros de auditoria são descartados, e o serviço tenta preenchê-los.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-142">In those cases, some audit records are dropped and the service tries to backfill them.</span></span> <span data-ttu-id="9b9e3-143">Embora isso ocorra apenas em cerca de 5% a 10% dos registros, esses são os registros que podem gerar atrasos em determinadas situações.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-143">Although this happens for only about 5% to 10% of the records, these are the records that may be delayed in certain situations.</span></span> <span data-ttu-id="9b9e3-144">Se o atraso for superior a cinco dias, verifique o Painel de Integridade do Serviço no Centro de administração do Office 365.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-144">If the delay is more than 5 days, check the Service Health Dashboard in the Office 365 admin center.</span></span> <span data-ttu-id="9b9e3-145">Se necessário, você também pode abrir um tíquete com o [suporte da Microsoft](https://support.office.com/article/contact-support-for-business-products-admin-help-32a17ca7-6fa0-4870-8a8d-e25ba4ccfd4b#ID0EAADAAA=online).</span><span class="sxs-lookup"><span data-stu-id="9b9e3-145">If needed, you can also open a ticket with [Microsoft support](https://support.office.com/article/contact-support-for-business-products-admin-help-32a17ca7-6fa0-4870-8a8d-e25ba4ccfd4b#ID0EAADAAA=online).</span></span>

#### <a name="im-encountering-a-throttling-error-in-the-management-activity-api-what-should-i-do"></a><span data-ttu-id="9b9e3-146">Estou encontrando um erro de limitação na API da Atividade de Gestão.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-146">I'm encountering a throttling error in the Management Activity API.</span></span> <span data-ttu-id="9b9e3-147">O que devo fazer?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-147">What should I do?</span></span>

<span data-ttu-id="9b9e3-148">Abra um tíquete com o [Suporte da Microsoft](https://support.office.com/article/contact-support-for-business-products-admin-help-32a17ca7-6fa0-4870-8a8d-e25ba4ccfd4b#ID0EAADAAA=online) e solicite uma nova restrição de limitação, além de incluir uma justificativa comercial para aumentar o limite.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-148">Open a ticket with [Microsoft Support](https://support.office.com/article/contact-support-for-business-products-admin-help-32a17ca7-6fa0-4870-8a8d-e25ba4ccfd4b#ID0EAADAAA=online) and request a new throttling limit, and include a business justification for increasing the limit.</span></span> <span data-ttu-id="9b9e3-149">Nós avaliaremos a solicitação e, se aceita, aumentaremos a restrição de limitação.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-149">We will evaluate the request, and if accepted, we will increase the throttling limit.</span></span>

#### <a name="why-are-targetupdatedproperties-no-longer-in-extendedproperties-in-the-audit-logs-for-azure-active-directory-activities"></a><span data-ttu-id="9b9e3-150">Por que as TargetUpdatedProperties não estão mais em ExtendedProperties nos logs de auditoria das atividades do Azure Active Directory?</span><span class="sxs-lookup"><span data-stu-id="9b9e3-150">Why are TargetUpdatedProperties no longer in ExtendedProperties in the audit logs for Azure Active Directory activities?</span></span>

<span data-ttu-id="9b9e3-151">As TargetUpdatedProperties aparecem em ExtendedProperties.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-151">TargetUpdatedProperties were appearing in ExtendedProperties.</span></span> <span data-ttu-id="9b9e3-152">No entanto, eles foram removidos das ExtendedProperties e aparecerão em ModifiedProperties.</span><span class="sxs-lookup"><span data-stu-id="9b9e3-152">However, they have been removed from ExtendedProperties and now appear in ModifiedProperties.</span></span>
